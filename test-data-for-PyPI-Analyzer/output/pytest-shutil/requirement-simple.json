{
  "name": "pytest-shutil",
  "description": "pytest-shutil\n=============\n\nThis library is a goodie-bag of Unix shell and environment management\ntools for automated tests. A summary of the available functions is\nbelow, look at the source for the full listing.\n\nInstallation\n------------\n\nInstall using your favourite package manager::\n\n.. code:: bash\n\n        pip install pytest-shutil\n        #  or..\n        easy_install pytest-shutil\n\nWorkspace Fixture\n-----------------\n\nThe workspace fixture is simply a temporary directory at function-scope\nwith a few bells and whistles::\n\n.. code:: python\n\n        # Enable the fixture explicitly in your tests or conftest.py (not required when using setuptools entry points)\n        pytest_plugins = ['pytest_shutil']\n\n        def test_something(workspace):\n            # Workspaces contain a handle to the path.py path object (see https://pathpy.readthedocs.io/)\n            path = workspace.workspace         \n            script = path / 'hello.sh'\n            script.write_text('#!/bin/sh\\n echo hello world!')\n\n            # There is a 'run' method to execute things relative to the workspace root\n            workspace.run('hello.sh')\n\n``pytest_shutil.env``: Shell helpers\n------------------------------------\n\n+--------------+------------------------------------------------------+\n| function     | description                                          |\n+==============+======================================================+\n| set\\_env     | contextmanager to set env vars                       |\n+--------------+------------------------------------------------------+\n| unset\\_env   | contextmanager to unset env vars                     |\n+--------------+------------------------------------------------------+\n| no\\_env      | contextmanager to unset a single env var             |\n+--------------+------------------------------------------------------+\n| no\\_cov      | contextmanager to disable coverage in subprocesses   |\n+--------------+------------------------------------------------------+\n\n``pytest_shutil.cmdline``: Command-line helpers\n-----------------------------------------------\n\n+---------------------------------+----------------------------------------------------------------+\n| function                        | description                                                    |\n+=================================+================================================================+\n| umask                           | contextmanager to set the umask                                |\n+---------------------------------+----------------------------------------------------------------+\n| chdir                           | contextmanager to change to a directory                        |\n+---------------------------------+----------------------------------------------------------------+\n| TempDir                         | contextmanager for a temporary directory                       |\n+---------------------------------+----------------------------------------------------------------+\n| PrettyFormatter                 | simple text formatter for drawing title, paragrahs, hrs.       |\n+---------------------------------+----------------------------------------------------------------+\n| copy\\_files                     | copy all files from one directory to another                   |\n+---------------------------------+----------------------------------------------------------------+\n| getch                           | cross-platform read of a single character from the screen      |\n+---------------------------------+----------------------------------------------------------------+\n| which                           | analoge of unix ``which``                                      |\n+---------------------------------+----------------------------------------------------------------+\n| get\\_real\\_python\\_executable   | find our system Python, useful when running under virtualenv   |\n+---------------------------------+----------------------------------------------------------------+\n\n``pytest_shutil.run``: Running things in subprocesses\n-----------------------------------------------------\n\n+-------------------------+----------------------------------------------------------------------------+\n| function                | description                                                                |\n+=========================+============================================================================+\n| run                     | run a command, with options for capturing output, checking return codes.   |\n+-------------------------+----------------------------------------------------------------------------+\n| run\\_as\\_main           | run a function as if it was the system entry point                         |\n+-------------------------+----------------------------------------------------------------------------+\n| run\\_module\\_as\\_main   | run a module as if it was the system entry point                           |\n+-------------------------+----------------------------------------------------------------------------+\n| run\\_in\\_subprocess     | run a function in a subprocess                                             |\n+-------------------------+----------------------------------------------------------------------------+\n| run\\_with\\_coverage     | run a command with coverage enabled                                        |\n+-------------------------+----------------------------------------------------------------------------+\n\n\nChangelog\n---------\n\n1.7.0\n~~~~~\n\n-  All: Support pytest >= 4.0.0\n-  All: Support Python 3.7\n-  pytest-server-fixtures: if host not defined on your machine, default\n   to localhost\n-  pytest-server-fixture: Pin to rethinkdb < 2.4.0 due to upstream API\n   changes\n-  pytest-verbose-parametrize: Add support for revamped marker\n   infrastructure\n-  pytest-verbose-parametrize: Fix integration tests to support pytest\n   >= 4.1.0\n-  pytest-virtualenv: Add virtualenv as install requirement. Fixes #122\n-  pytest-webdriver: Fix RemovedInPytest4Warning using getfixturevalue\n-  circleci: Fix checks by skipping coverall submission for developer\n   without push access\n-  wheels: Generate universal wheels installable with both python 2.x\n   and 3.x\n-  dist: Remove support for building and distributing \\*.egg files\n-  VagrantFile: Install python 3.7 and initialize python 3.7 by default\n-  Fix DeprecationWarning warnings using \"logger.warning()\" function\n\n1.6.2 (2019-02-21)\n~~~~~~~~~~~~~~~~~~\n\n-  pytest-server-fixtures: suppress stacktrace if kill() is called\n-  pytest-server-fixtures: fix random port logic in TestServerV2\n\n1.6.1 (2019-02-12)\n~~~~~~~~~~~~~~~~~~\n\n-  pytest-server-fixtures: fix exception when attempting to access\n   hostname while server is not started\n\n1.6.0 (2019-02-12)\n~~~~~~~~~~~~~~~~~~\n\n-  pytest-server-fixtures: added previously removed TestServerV2.kill()\n   function\n-  pytest-profiling: pin more-itertools==5.0.0 in integration tests, as\n   that's a PY3 only release\n\n1.5.1 (2019-01-24)\n~~~~~~~~~~~~~~~~~~\n\n-  pytest-verbose-parametrize: fixed unicode parameters when using\n   ``@pytest.mark.parametrize``\n\n1.5.0 (2019-01-23)\n~~~~~~~~~~~~~~~~~~\n\n-  pytest-server-fixtures: made postgres fixtures and its tests\n   optional, like all other fixtures\n-  pytest-server-fixtures: reverted a fix for pymongo deprecation\n   warning, as this will break compatibility with pymongo 3.6.0\n-  pytest-server-fixtures: dropped RHEL5 support in httpd\n\n1.4.1 (2019-01-18)\n~~~~~~~~~~~~~~~~~~\n\n-  pytest-server-fixtures: server fixture binary path specified in ENV\n   now only affect server class 'thread'\n\n1.4.0 (2019-01-15)\n~~~~~~~~~~~~~~~~~~\n\n-  Fixing python 3 compatibility in Simple HTTP Server fixture\n-  Fixed broken tests in pytest-profiling\n-  Pinned pytest<4.0.0 until all deprecation warnings are fixed.\n-  pytest-webdriver: replaced deprecated phantomjs with headless Google\n   Chrome.\n-  Add Vagrantfile to project to make test environment portable.\n-  Add .editorconfig file to project.\n-  pytest-server-fixtures: add TestServerV2 with Docker and Kubernetes\n   support.\n-  pytest-server-fixtures: fix for an issue where MinioServer is not\n   cleaned up after use.\n-  pytest-server-fixtures: fix deprecation warnings when calling\n   pymongo.\n-  pytest-server-fixtures: close pymongo client on MongoTestServer\n   teardown.\n-  pytest-server-fixtures: upgrade Mongo, Redis and RethinkDB to\n   TestServerV2.\n-  coveralls: fix broken coveralls\n\n1.3.1 (2018-06-28)\n~~~~~~~~~~~~~~~~~~\n\n-  Use pymongo list\\_database\\_names() instead of the deprecated\n   database\\_names(), added pymongo>=3.6.0 dependency\n\n1.3.0 (2017-11-17)\n~~~~~~~~~~~~~~~~~~\n\n-  Fixed workspace deletion when teardown is None\n-  Fixed squash of root logger in pytest-listener\n-  Added S3 Minio fixture (many thanks to Gavin Bisesi)\n-  Added Postgres fixture (many thanks to Gavin Bisesi)\n-  Use requests for server fixtures http gets as it handles redirects\n   and proxies properly\n\n1.2.12 (2017-8-1)\n~~~~~~~~~~~~~~~~~\n\n-  Fixed regression on cacheing ephemeral hostname, some clients were\n   relying on this. This is now optional.\n\n1.2.11 (2017-7-21)\n~~~~~~~~~~~~~~~~~~\n\n-  Fix for OSX binding to illegal local IP range (Thanks to Gavin\n   Bisesi)\n-  Setup and Py3k fixes for pytest-profiling (Thanks to xoviat)\n-  We no longer try and bind port 5000 when reserving a local IP host,\n   as someone could have bound it to 0.0.0.0\n-  Fix for #46 sourcing gprof2dot when the local venv has not been\n   activated\n\n1.2.10 (2017-2-23)\n~~~~~~~~~~~~~~~~~~\n\n-  Handle custom Pytest test items in pytest-webdriver\n\n1.2.9 (2017-2-23)\n~~~~~~~~~~~~~~~~~\n\n-  Add username into mongo server fixture tempdir path to stop\n   collisions on shared multiuser filesystems\n\n1.2.8 (2017-2-21)\n~~~~~~~~~~~~~~~~~\n\n-  Return function results in shutil.run.run\\_as\\_main\n\n1.2.7 (2017-2-20)\n~~~~~~~~~~~~~~~~~\n\n-  More handling for older versions of path.py\n-  Allow virtualenv argument passing in pytest-virtualenv\n\n1.2.6 (2017-2-16 )\n~~~~~~~~~~~~~~~~~~\n\n-  Updated devpi server server setup for devpi-server >= 2.0\n-  Improvements for random port picking\n-  HTTPD server now binds to 0.0.0.0 by default to aid Selenium-style\n   testing\n-  Updated mongodb server args for mongodb >= 3.2\n-  Corrections for mongodb fixture config and improve startup logic\n-  Added module-scoped mongodb fixture\n-  Handling for older versions of path.py\n-  Fix for #40 where tests that chdir break pytest-profiling\n\n1.2.5 (2016-12-09)\n~~~~~~~~~~~~~~~~~~\n\n-  Improvements for server runner host and port generation, now supports\n   random local IPs\n-  Bugfix for RethinkDB fixture config\n\n1.2.4 (2016-11-14)\n~~~~~~~~~~~~~~~~~~\n\n-  Bugfix for pymongo extra dependency\n-  Windows compatibility fix for pytest-virtualenv (Thanks to\n   Jean-Christophe Fillion-Robin for PR)\n-  Fix symlink handling for\n   pytest-shutil.cmdline.get\\_real\\_python\\_executable\n\n1.2.3 (2016-11-7)\n~~~~~~~~~~~~~~~~~\n\n-  Improve resiliency of Mongo fixture startup checks\n\n1.2.2 (2016-10-27)\n~~~~~~~~~~~~~~~~~~\n\n-  Python 3 compatibility across most of the modules\n-  Fixed deprecated Path.py imports (Thanks to Bryan Moscon)\n-  Fixed deprecated multicall in pytest-profiling (Thanks to Paul van\n   der Linden for PR)\n-  Added devpi-server fixture to create an index per test function\n-  Added missing licence file\n-  Split up httpd server fixture config so child classes can override\n   loaded modules easier\n-  Added 'preserve\\_sys\\_path' argument to TestServer base class which\n   exports the current python sys.path to subprocesses.\n-  Updated httpd, redis and jenkins runtime args and paths to current\n   Ubuntu spec\n-  Ignore errors when tearing down workspaces to avoid race conditions\n   in 'shutil.rmtree' implementation\n\n1.2.1 (2016-3-1)\n~~~~~~~~~~~~~~~~\n\n-  Fixed pytest-verbose-parametrize for latest version of py.test\n\n1.2.0 (2016-2-19)\n~~~~~~~~~~~~~~~~~\n\n-  New plugin: git repository fixture\n\n1.1.1 (2016-2-16)\n~~~~~~~~~~~~~~~~~\n\n-  pytest-profiling improvement: escape illegal characters in .prof\n   files (Thanks to Aarni Koskela for the PR)\n\n1.1.0 (2016-2-15)\n~~~~~~~~~~~~~~~~~\n\n-  New plugin: devpi server fixture\n-  pytest-profiling improvement: overly-long .prof files are saved as\n   the short hash of the test name (Thanks to Vladimir Lagunov for PR)\n-  Changed default behavior of workspace.run() to not use a subshell for\n   security reasons\n-  Corrected virtualenv.run() method to handle arguments the same as the\n   parent method workspace.run()\n-  Removed deprecated '--distribute' from virtualenv args\n\n1.0.1 (2015-12-23)\n~~~~~~~~~~~~~~~~~~\n\n-  Packaging bugfix\n\n1.0.0 (2015-12-21)\n~~~~~~~~~~~~~~~~~~\n\n-  Initial public release\n\n\n\n",
  "requires_dist": [
    "six",
    "execnet",
    "contextlib2",
    "pytest",
    "path.py",
    "mock",
    "termcolor",
    "pytest ; extra == 'tests'"
  ],
  "requires_python": "",
  "current_version": "1.7.0",
  "released_versions": [
    "1.0.0",
    "1.0.1",
    "1.1.0",
    "1.1.1",
    "1.2.11",
    "1.2.2",
    "1.2.4",
    "1.2.6",
    "1.2.8",
    "1.3.0",
    "1.4.0",
    "1.6.0",
    "1.7.0"
  ]
}