{
  "name": "flake8-2020",
  "description": "[![Build Status](https://dev.azure.com/asottile/asottile/_apis/build/status/asottile.flake8-2020?branchName=master)](https://dev.azure.com/asottile/asottile/_build/latest?definitionId=27&branchName=master)\n[![Azure DevOps coverage](https://img.shields.io/azure-devops/coverage/asottile/asottile/27/master.svg)](https://dev.azure.com/asottile/asottile/_build/latest?definitionId=27&branchName=master)\n\nflake8-2020\n===========\n\nflake8 plugin which checks for misuse of `sys.version` or `sys.version_info`\n\nthis will become a problem when `python3.10` or `python4.0` exists (presumably\nduring the year 2020).\n\nyou might also find an early build of [python3.10] useful\n\n[python3.10]: https://github.com/asottile/python3.10\n\n## installation\n\n`pip install flake8-2020`\n\n## flake8 codes\n\n| Code   | Description                                            |\n|--------|--------------------------------------------------------|\n| YTT101 | `sys.version[:3]` referenced (python3.10)              |\n| YTT102 | `sys.version[2]` referenced (python3.10)               |\n| YTT103 | `sys.version` compared to string (python3.10)          |\n| YTT201 | `sys.version_info[0] == 3` referenced (python4)        |\n| YTT202 | `six.PY3` referenced (python4)                         |\n| YTT203 | `sys.version_info[1]` compared to integer (python4)    |\n| YTT204 | `sys.version_info.minor` compared to integer (python4) |\n| YTT301 | `sys.version[0]` referenced (python10)                 |\n| YTT302 | `sys.version` compared to string (python10)            |\n| YTT303 | `sys.version[:1]` referenced (python10)                |\n\n## rationale\n\nlots of code incorrectly references the `sys.version` and `sys.version_info`\nmembers.  in particular, this will cause some issues when the version of python\nafter python3.9 is released.  my current recommendation is 3.10 since I believe\nit breaks less code, here's a few patterns that will cause issues:\n\n```python\n# in python3.10 this will report as '3.1' (should be '3.10')\npython_version = sys.version[:3]  # YTT101\n# in python3.10 this will report as '1' (should be '10')\npy_minor = sys.version[2]\n# in python3.10 this will be False (which goes against developer intention)\nsys.version >= '3.5'  # YTT103\n\n\n# correct way to do this\npython_version = '{}.{}'.format(*sys.version_info)\npy_minor = str(sys.version_info[1])\nsys.version_info >= (3, 5)\n```\n\n```python\n# in python4 this will report as `False` (and suddenly run python2 code!)\nis_py3 = sys.version_info[0] == 3  # YTT201\n\n# in python4 this will report as `False` (six violates YTT201!)\nif six.PY3:  # YTT202\n    print('python3!')\n\nif sys.version_info[0] >= 3 and sys.version_info[1] >= 5:  # YTT203\n    print('py35+')\n\nif sys.version_info.major >= 3 and sys.version_info.minor >= 6:  # YTT204\n    print('py36+')\n\n# correct way to do this\nis_py3 = sys.version_info >= (3,)\n\nif not six.PY2:\n    print('python3!')\n\nif sys.version_info >= (3, 5):\n    print('py35+')\n\nif sys.version_info >= (3, 6):\n    print('py36+')\n```\n\n```python\n# in python10 this will report as '1'\npython_major_version = sys.version[0]  # YTT301\n# in python10 this will be False\nif sys.version >= '3':  # YTT302\n    print('python3!')\n# in python10 this will be False\nif sys.version[:1] >= '3':  # YTT303\n    print('python3!')\n\n\n# correct way to do this\npython_major_version = str(sys.version_info[0])\n\nif sys.version_info >= (3,):\n    print('python3!')\n\nif sys.version_info >= (3,):\n    print('python3!')\n```\n\n## as a pre-commit hook\n\nSee [pre-commit](https://github.com/pre-commit/pre-commit) for instructions\n\nSample `.pre-commit-config.yaml`:\n\n```yaml\n-   repo: https://gitlab.com/pycqa/flake8\n    rev: 3.7.8\n    hooks:\n    -   id: flake8\n        additional_dependencies: [flake8-2020==1.6.0]\n```\n\n\n",
  "requires_dist": [
    "flake8 (>=3.7)",
    "importlib-metadata (>=0.9) ; python_version < \"3.8\""
  ],
  "requires_python": ">=3.6.1",
  "current_version": "1.6.0",
  "released_versions": [
    "1.0.0",
    "1.1.0",
    "1.2.0",
    "1.2.1",
    "1.3.0",
    "1.4.0",
    "1.5.0",
    "1.6.0"
  ]
}