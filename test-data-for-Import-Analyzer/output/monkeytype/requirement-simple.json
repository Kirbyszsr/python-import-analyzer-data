{
  "name": "monkeytype",
  "description": "MonkeyType\n==========\n\nMonkeyType collects runtime types of function arguments and return values, and\ncan automatically generate stub files or even add draft type annotations\ndirectly to your Python code based on the types collected at runtime.\n\nExample\n-------\n\nSay ``some/module.py`` originally contains:\n\n.. code:: python\n\n  def add(a, b):\n      return a + b\n\nAnd ``myscript.py`` contains:\n\n.. code:: python\n\n  from some.module import add\n\n  add(1, 2)\n\nNow we want to infer the type annotation of ``add`` in ``some/module.py`` by\nrunning ``myscript.py`` with ``MonkeyType``. One way is to run:\n\n.. code:: bash\n\n  $ monkeytype run myscript.py\n\nBy default, this will dump call traces into a SQLite database in the file\n``monkeytype.sqlite3`` in the current working directory. You can then use the\n``monkeytype`` command to generate a stub file for a module, or apply the type\nannotations directly to your code.\n\nRunning ``monkeytype stub some.module`` will output a stub:\n\n.. code:: python\n\n  def add(a: int, b: int) -> int: ...\n\nRunning  ``monkeytype apply some.module`` will modify ``some/module.py`` to:\n\n.. code:: python\n\n  def add(a: int, b: int) -> int:\n      return a + b\n\nThis example demonstrates both the value and the limitations of\nMonkeyType. With MonkeyType, it's very easy to add annotations that\nreflect the concrete types you use at runtime, but those annotations may not\nalways match the full intended capability of the functions. For instance, ``add``\nis capable of handling many more types than just integers. Similarly, MonkeyType\nmay generate a concrete ``List`` annotation where an abstract ``Sequence`` or\n``Iterable`` would be more appropriate. MonkeyType's annotations are an\ninformative first draft, to be checked and corrected by a developer.\n\nMotivation\n----------\n\nReadability and static analysis are the primary motivations for adding type\nannotations to code. It's already common in many Python style guides to\ndocument the argument and return types for a function in its docstring;\nannotations are a standardized way to provide this documentation, which also\npermits static analysis by a typechecker such as `mypy`_.\n\nFor more on the motivation and design of Python type annotations, see\n:pep:`483` and :pep:`484`.\n\n.. _mypy: http://mypy.readthedocs.io/en/latest/\n\nRequirements\n------------\n\nMonkeyType requires Python 3.6+ and the `libcst`_ library (for applying type\nstubs to code files). It generates only Python 3 type annotations (no type\ncomments).\n\nInstalling\n----------\n\nInstall MonkeyType with `pip`_:\n\n.. code:: bash\n\n  pip install MonkeyType\n\nHow MonkeyType works\n--------------------\n\nMonkeyType uses the `sys.setprofile`_ hook provided by Python to interpose on\nfunction calls, function returns, and generator yields, and record the types of\narguments / return values / yield values.\n\nIt generates `stub files`_ based on that data, and can use `libcst`_ to apply those\nstub files directly to your code.\n\n.. _pip: https://pip.pypa.io/en/stable/\n.. _libcst: https://pypi.python.org/pypi/libcst\n.. _sys.setprofile: https://docs.python.org/3/library/sys.html#sys.setprofile\n.. _stub files: https://mypy.readthedocs.io/en/latest/getting_started.html#library-stubs-and-typeshed\n\n.. end-here\n\nSee `the full documentation`_ for details.\n\n.. _the full documentation: http://monkeytype.readthedocs.io/en/latest/\n\nTroubleshooting\n---------------\n\nCheck if your issue is mentioned in `the frequently asked questions`_ list.\n\n.. _the frequently asked questions: http://monkeytype.readthedocs.io/en/stable/faq.html\n\nDevelopment\n-----------\n\nSee `CONTRIBUTING.rst`_ for information on developing and contributing to MonkeyType.\n\n.. _CONTRIBUTING.rst: https://github.com/Instagram/MonkeyType/blob/master/CONTRIBUTING.rst\n\n\nLICENSE\n-------\n\nMonkeyType is BSD licensed.\n\n\nChangelog\n=========\n\n21.5.0\n------\n\n* Fix compatibility with Python 3.9. Thanks Felix Yan. Merge of #217, fixes\n  #205.\n\n* Render empty tuple type correctly. Thanks Pradeep Kumar Srinivasan. Merge of\n  #191, fixes #190.\n\n\n20.5.0\n------\n\n* Require ``libcst>=0.3.5``.\n\n* Add ``--ignore-existing-annotations`` flag to ``apply`` command.\n\n\n20.4.2\n------\n\n* Add missing ``libcst`` dependency in ``setup.py``.\n\n\n20.4.1\n------\n\n* Generate stubs for TypedDicts nested within generic types. Disable\n  TypedDicts completely when the max size is zero. Thanks Pradeep Kumar\n  Srinivasan. Merge of #162, fixes #159.\n\n* Remove ``stringcase`` dependency, just hand-roll ``pascal_case`` function.\n\n* Shrink dictionary traces with required and optional keys to get non-total\n  TypedDict class declarations. Thanks Pradeep Kumar Srinivasan.\n\n* Implement ``monkeytype apply`` using libcst's ``ApplyTypeAnnotationsVisitor``.\n  This correctly applies generated TypedDict classes. Thanks Pradeep Kumar\n  Srinivasan.\n\n* Render generic types recursively to handle nested special cases like\n  ``List['Movie']``. Thanks Pradeep Kumar Srinivasan. Fixes #76.\n\n\n19.11.2\n-------\n\n* Disable TypedDict generation by default for now, since it breaks `--apply`.\n\n\n19.11.1\n-------\n\n* Add setup.py dependences for mypy-extensions and stringcase. Thanks Nicholas\n  Bollweg for the report.\n\n\n19.11.0\n-------\n\n* Trace per-key value types for dictionaries (up to a configured max size) and\n  if the traced types are consistent, output a TypedDict in the stub instead of\n  a homogenous dict. Thanks Pradeep Kumar Srinivasan. Merge of #143, fixes\n  #105.\n\n* Fix crash with empty tuples. Thanks akayunov for the report, Christophe\n  Simonis for the simplest-case repro. Fixes #136.\n\n* Don't add stringified annotations to type stubs. Thanks \u0141ukasz Langa. Merge\n  of #148.\n\n* Don't crash in type rewriter on user-defined types that name-collide with\n  container types from the `typing` module. Thanks \u0141ukasz Langa. Merge of #146.\n\n* Load config after argument parsing instead of during it, to avoid argparse\n  catching TypeError/ValueError at import time of a custom config and replacing\n  with a generic \"invalid value\" message. See\n  https://bugs.python.org/issue30220. Thanks Daniel G Holmes for the report.\n  Merge of #142, fixes #141.\n\n* Typing support for collections.defaultdict. Thanks Dinesh Kesavan. Merge of #152.\n\n\n19.5.0\n------\n\n* Mark ``monkeytype`` package as typed per PEP 561. Thanks Vasily Zakharov for\n  the report.\n* Add ``-v`` option; don't display individual traces that fail to decode unless\n  it is given.\n\n\n19.1.1\n------\n\n* Pass ``--incremental`` to retype when applying stubs, so it doesn't choke on\n  partial stubs (which can result from e.g. failures to decode some traces).\n\n\n19.1.0\n------\n\n* Add ``--omit-existing-annotations`` option, implied by ``apply``. Merge of\n  #129. Fixes #11 and #81.\n\n* Render ``...`` for all parameter defaults in stubs. Remove the\n  ``--include-unparsable-defaults`` and ``--exclude-unparsable-defaults`` CLI\n  options, as well as the ``include_unparsable_defaults()`` config method.\n  Merge of #128, fixes #123.\n\n* Render forward references (from existing annotations) correctly. Merge of #127.\n\n* Rewrite `Generator[..., None, None]` to `Iterator[None]` by default. Merge of\n  #110, fixes #4. Thanks iyanuashiri.\n\n\n18.8.0\n------\n\n* Support Python 3.7. Merge of #107, fixes #78.\n\n* Print useful error message when filename is passed to stub/apply. Merge of\n  #88, fixes #65. Thanks rajathagasthya.\n\n* Fix crash in ``list_modules`` when there are no traces. Merge of #106, fixes\n  #90.  Thanks tyrinwu.\n\n* Enable ``python -m monkeytype {run,stub,apply} ...``. Merge of #100, fixes\n  #99. Thanks retornam.\n\n\n18.5.1\n------\n\n* Add ``MONKEYTYPE_TRACE_MODULES`` env var for easier tracing of code in\n  site-packages. Merge of #83, fixes #82. Thanks Bo Peng.\n\n* Fix passing additional arguments to scripts run via ``monkeytype run``. Merge\n  of #85. Thanks Danny Qiu.\n\n* Fix handling of spaces in filenames passed to retype. Merge of #79, fixes\n  #77.\n\n* Never render NoneType in stubs, substitute None.  Merge of #75, fixes #5.\n  Thanks John Arnold.\n\n\n18.2.0\n------\n\n* Move filtering of `__main__` module into CallTraceStoreLogger instead of core\n  tracing code, so it can be overridden by special use cases like IPython\n  tracing. Merge of #72, fixes #68. Thanks Tony Fast.\n\n* Generate stubs for modules where the module file is like module/__init__.py.\n  Print retype stdout/stderr. Merge of #69, Fixes #66.\n  Thanks John Arnold.\n\n\n18.1.13\n-------\n\n* Improve error messages in case of \"no traces found\" and/or file path given\n  instead of module name. Merge of #37, partial fix for #65. Thanks Aarni\n  Koskela.\n\n* Add ``monkeytype list_modules`` sub-command to list all modules present in\n  trace db. Merge of #61, fixes #60. Thanks Alex Miasoiedov.\n\n* Add ``--diff`` option to ``monkeytype stub``. Merge of #59, fixes #58.\n  Thanks Tai-Lin!\n\n* Add ``--ignore-existing-annotations`` option to ``monkeytype stub``. Merge of\n  #55, fixes #15. Thanks Tai-Lin!\n\n\n18.1.11\n-------\n\n* Fix crash in RewriteEmptyContainers rewriter if a parameter has only empty\n  container types in traces (and more than one). Fixes #53.\n\n\n18.1.10\n-------\n\n* Display retype errors when stub application fails. Merge of #52, fixes #49.\n\n* Add ``--sample-count`` option to show the number of traces a given stub is\n  based on. Merge of #50, fixes #7. Thanks Tai-Lin.\n\n* Add ``monkeytype run -m`` for running a module as a script. Merge of\n  #41. Thanks Simon Gomizelj.\n\n* Add support for Django's ``cached_property`` decorator. Merge of #46, fixes\n  #9. Thanks Christopher J Wang.\n\n* Catch and log serialization exceptions instead of crashing. Fixes #38, merge\n  of #39.\n\n* Fix bug in default code filter when Python lib paths are symlinked. Merge of\n  #40. Thanks Simon Gomizelj.\n\n17.12.3\n-------\n\n* Rewrite imports from _io module to io. (#1, merge of #32). Thanks Radhans\n  Jadhao.\n\n* Add Config.cli_context() as a hook for custom CLI initialization and cleanup\n  logic (#28; merge of #29). Thanks Rodney Folz.\n\n17.12.2\n-------\n\n* Exclude \"frozen importlib\" functions in default code filter.\n\n* Fix passing args to script run with ``monkeytype run`` (#18; merge of\n  #21). Thanks Rodney Folz.\n\n* Fix generated annotations for NewType types (#22; merge of #23). Thanks\n  Rodney Folz.\n\n17.12.1\n-------\n\n* Fix using MonkeyType outside a virtualenv (#16). Thanks Guido van Rossum for\n  the report.\n\n17.12.0\n-------\n\n* Initial public version.\n\n\n",
  "requires_dist": [
    "mypy-extensions",
    "libcst (>=0.3.7)"
  ],
  "requires_python": ">=3.6",
  "current_version": "21.5.0",
  "released_versions": [
    "17.12.0",
    "17.12.1",
    "17.12.2",
    "17.12.3",
    "18.1.10",
    "18.1.11",
    "18.1.13",
    "18.2.0",
    "18.5.1",
    "18.8.0",
    "19.1.0",
    "19.1.1",
    "19.11.0",
    "19.11.1",
    "19.11.2",
    "19.5.0",
    "20.4.1",
    "20.4.2",
    "20.4.2.dev1",
    "20.5.0",
    "21.5.0"
  ]
}