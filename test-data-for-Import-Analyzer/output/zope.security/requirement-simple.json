{
  "name": "zope.security",
  "description": "===============\n zope.security\n===============\n\n.. image:: https://img.shields.io/pypi/v/zope.security.svg\n        :target: https://pypi.python.org/pypi/zope.security/\n        :alt: Latest release\n\n.. image:: https://img.shields.io/pypi/pyversions/zope.security.svg\n        :target: https://pypi.org/project/zope.security/\n        :alt: Supported Python versions\n\n.. image:: https://travis-ci.org/zopefoundation/zope.security.svg?branch=master\n        :target: https://travis-ci.org/zopefoundation/zope.security\n\n.. image:: https://coveralls.io/repos/github/zopefoundation/zope.security/badge.svg?branch=master\n        :target: https://coveralls.io/github/zopefoundation/zope.security?branch=master\n\n.. image:: https://readthedocs.org/projects/zopesecurity/badge/?version=latest\n        :target: https://zopesecurity.readthedocs.io/en/latest/\n        :alt: Documentation Status\n\n\nThe Security framework provides a generic mechanism to implement security\npolicies on Python objects.\n\nDocumentation is available at https://zopesecurity.readthedocs.io/\n\n\n=========\n Changes\n=========\n\n5.1.1 (2020-03-23)\n==================\n\n- Ensure all objects have consistent interface resolution orders (if\n  all dependencies are up-to-date). See `issue 71\n  <https://github.com/zopefoundation/zope.security/issues/71>`_.\n\n\n5.1.0 (2020-02-14)\n==================\n\n- Let proxied interfaces be iterated on Python 3. This worked on\n  Python 2, but raised ``ForbiddenAttribute`` an Python 3. See\n  `zope.interface issue 141 <https://github.com/zopefoundation/zope.interface/issues/141>`_.\n\n- Allow to use a common Sphinx version for Python 2 and 3.\n\n\n5.0.0 (2019-11-11)\n==================\n\n- Drop support for Python 3.4.\n\n- Add support for Python 3.8.\n\n- Properly declare dependency on zope.schema >= 4.2.0, introduced in\n  zope.security 4.2.1.\n\n- Fix dict item view iteration on PyPy3 7.x.\n\n\n4.3.1 (2019-01-03)\n==================\n\n- Fix the decimal.Decimal checker, ``__truediv__`` was missing causing\n  ``ForbiddenAttribute`` on a ``ProxyFactory(Decimal('1')) / 1`` operation\n\n\n4.3.0 (2018-08-24)\n==================\n\n- Add the interface ``ISystemPrincipal`` and make\n  ``zope.security.management.system_user`` a regular object that\n  implements this interface. This facilitates providing adapter\n  registrations specifically for the ``system_user``.\n\n\n4.2.3 (2018-08-09)\n==================\n\n- Add support for Python 3.7.\n\n\n4.2.2 (2018-01-11)\n==================\n\n- Make the pure-Python proxy on Python 2 *not* check permissions for\n  ``__unicode__`` just like the C implementation. Note that\n  ``__str__`` is checked for both implementations on both Python 2 and\n  3, but if there is no ``__unicode__`` method defined, Python 2's\n  automatic fallback to ``__str__`` is **not** checked when\n  ``unicode`` is called. See `issue 10\n  <https://github.com/zopefoundation/zope.security/issues/10>`_.\n\n\n4.2.1 (2017-11-30)\n==================\n\n- Fix the default values for ``Permission`` fields ``title`` and\n  ``description`` under Python 2. See `issue 48\n  <https://github.com/zopefoundation/zope.security/issues/48>`_.\n\n- Change the ``IPermission.id`` from ``Text`` (unicode) to a\n  ``NativeStringLine``. This matches what ZCML creates and what is\n  usually written in source code.\n\n\n4.2.0 (2017-09-20)\n==================\n\n- Fix the extremely rare potential for a crash when the C extensions\n  are in use. See `issue 35 <https://github.com/zopefoundation/zope.security/issues/35>`_.\n\n- Fix `issue 7\n  <https://github.com/zopefoundation/zope.security/issues/7>`_: The\n  pure-Python proxy didn't propagate ``TypeError`` from ``__repr__``\n  and ``__str__`` like the C implementation did.\n\n- Fix `issue 27 <https://github.com/zopefoundation/zope.security/issues/27>`_:\n  iteration of ``zope.interface.providedBy()`` is now allowed by\n  default on all versions of Python. Previously it only worked on\n  Python 2. Note that ``providedBy`` returns unproxied objects for backwards\n  compatibility.\n\n- Fix ``__length_hint__`` of proxied iterator objects. Previously it\n  was ignored.\n\n- Drop support for Python 3.3.\n\n- Enable coveralls.io for coverage measurement and run doctests on all\n  supported Python versions.\n\n- Fix `issue 9\n  <https://github.com/zopefoundation/zope.security/issues/9>`_:\n  iteration of ``itertools.groupby`` objects is now allowed by\n  default. In addition, iteration of all the custom iterator types\n  defined in itertools are also allowed by default.\n\n- Simplify the internal ``_compat.py`` module now that we only run on\n  newer Python versions. See `PR 32 <https://github.com/zopefoundation/zope.security/pull/32>`_.\n\n- Respect ``PURE_PYTHON`` at runtime. At build time, always try to\n  build the C extensions on supported platforms, ignoring\n  ``PURE_PYTHON``. See `issue 33\n  <https://github.com/zopefoundation/zope.security/issues/33>`_.\n\n- Fix watching checkers (``ZOPE_WATCH_CHECKERS=1``) in pure-Python\n  mode. See `issue 8 <https://github.com/zopefoundation/zope.security/issues/8>`_.\n\n- Remove unused internal files from ``tests/``.\n\n- Remove ``zope.security.setup``. It was unused and did not work\n  anyway.\n\n- Fix the pure-Python proxy on Python 2 letting ``__getslice__`` and\n  ``__setslice__`` fall through to ``__getitem__`` or ``__setitem__``,\n  respectively, if it raised an error.\n\n- Fix the pure-Python proxy calling a wrapped ``__getattr__`` or\n  ``__getattribute__`` more than once in situations where the C\n  implementation only called it one time (when it raised an\n  AttributeError).\n\n- Reach 100% test coverage and maintain it via automated checks.\n\n4.1.1 (2017-05-17)\n==================\n\n- Fix `issue 23 <https://github.com/zopefoundation/zope.security/issues/23>`_:\n  iteration of ``collections.OrderedDict`` and its various views is\n  now allowed by default on all versions of Python.\n\n- As a further fix for issue 20, iteration of ``BTree`` itself is now\n  allowed by default.\n\n4.1.0 (2017-04-24)\n==================\n\n- When testing ``PURE_PYTHON`` environments under ``tox``, avoid poisoning\n  the user's global wheel cache.\n\n- Drop support for Python 2.6 and 3.2.\n\n- Add support for Python 3.5 and 3.6.\n\n- Fix `issue 20 <https://github.com/zopefoundation/zope.security/issues/20>`_:\n  iteration of pure-Python ``BTrees.items()``, and also creating a list from\n  ``BTrees.items()`` on Python 3. The same applies for ``keys()`` and ``values()``.\n\n4.0.3 (2015-06-02)\n==================\n\n- Fix iteration over security proxies in Python 3 using the pure-Python\n  implementation.\n\n4.0.2 (2015-06-02)\n==================\n\n- Fix compatibility with ``zope.proxy`` 4.1.5 under PyPy.\n\n- Fix the very first call to ``removeSecurityProxy`` returning\n  incorrect results if given a proxy under PyPy.\n\n4.0.1 (2014-03-19)\n==================\n\n- Add support for Python 3.4.\n\n4.0.0 (2013-07-09)\n==================\n\n- Update ``boostrap.py`` to version 2.2.\n\n- Bugfix: ZOPE_WATCH_CHECKERS=2 used to incorrectly suppress\n  unauthorized/forbidden warnings.\n\n- Bugfix: ZOPE_WATCH_CHECKERS=1 used to miss most of the checks.\n\n\n4.0.0b1 (2013-03-11)\n====================\n\n- Add support for PyPy.\n\n- Fix extension compilation on windows python 3.x\n\n\n4.0.0a5 (2013-02-28)\n====================\n\n- Undo changes from 4.0.0a4. Instead, ``zope.untrustedpython`` is only\n  included during Python 2 installs.\n\n\n4.0.0a4 (2013-02-28)\n====================\n\n- Remove ``untrustedpython`` extra again, since we do not want to support\n  ``zope.untrustedpython`` in ZTK 2.0. If BBB is really needed, we will create\n  a 3.10.0 release.\n\n4.0.0a3 (2013-02-15)\n====================\n\n- Fix test breakage in 4.0.0a2 due to deprecation strategy.\n\n4.0.0a2 (2013-02-15)\n====================\n\n- Add back the ``untrustedpython`` extra:  now pulls in\n  ``zope.untrustedpython``.  Restored deprecated backward-compatible imports\n  for ``zope.security.untrustedpython.{builtins,interpreter,rcompile}``\n  (the extra and the imports are to be removed in version 4.1).\n\n\n4.0.0a1 (2013-02-14)\n====================\n\n- Add support for Python 3.2 and 3.3.\n\n- Bring unit test coverage to 100%.\n\n- ``zope.security.untrustedpython`` moved to separate project:\n  ``zope.untrustedpython``\n\n- Convert use of ``assert`` in non-test code to apprpriate error types:\n\n  - Non-dict's passed to ``Checker.__init__``.\n\n- Remove dprecattion of ``zope.security.adapter.TrustedAdapterFactory``.\n  Although it has been marked as deprectaed since before Zope3 3.2, current\n  versions of ``zope.compoent`` still rely on it.\n\n- Convert doctests to Sphinx documentation in 'docs'.\n\n- Add ``setup.py docs`` alias (installs ``Sphinx`` and dependencies).\n\n- Add ``setup.py dev`` alias (runs ``setup.py develop`` plus installs\n  ``nose`` and ``coverage``).\n\n- Make non-doctest tests fully independent of ``zope.testing``.\n\n  Two modules, ``zope.security.checker`` and ``zope.security.management``,\n  register cleanups with ``zope.testing`` IFF it is importable, but the\n  tests no longer rely on it.\n\n- Enable building extensions without the ``svn:external`` of the ``zope.proxy``\n  headers into our ``include`` dir.\n\n- Bump ``zope.proxy`` dependency to \">= 4.1.0\" to enable compilation\n  on Py3k.\n\n- Replace deprecated ``zope.component.adapts`` usage with equivalent\n  ``zope.component.adapter`` decorator.\n\n- Replace deprecated ``zope.interface.classProvides`` usage with equivalent\n  ``zope.interface.provider`` decorator.\n\n- Replace deprecated ``zope.interface.implements`` usage with equivalent\n  ``zope.interface.implementer`` decorator.\n\n- Drop support for Python 2.4 and 2.5.\n\n- Add test convenience helper ``create_interaction`` and\n  ``with interaction()``.\n\n3.9.0 (2012-12-21)\n==================\n\n- Pin ``zope.proxy >= 4.1.0``\n\n- Ship with an included ``proxy.h`` header which is compatible with the\n  4.1.x version ov ``zope.proxy``.\n\n3.8.5 (2012-12-21)\n==================\n\n- Ship with an included ``proxy.h`` header which is compatible with the\n  supported versions of ``zope.proxy``.\n\n3.8.4 (2012-12-20)\n==================\n\n- Pin ``zope.proxy >= 3.4.2, <4.1dev``\n\n3.8.3 (2011-09-24)\n==================\n\n- Fix a regression introduced in 3.8.1: ``zope.location``\\'s LocationProxy\n  did not get a security checker if ``zope.security.decorator`` was not\n  imported manually. Now ``zope.security.decorator`` is imported in\n  ``zope.security.proxy`` without re-introducing the circular import fixed in\n  3.8.1.\n\n3.8.2 (2011-05-24)\n==================\n\n- Fix a test that failed on Python 2.7.\n\n\n3.8.1 (2011-05-03)\n==================\n\n- Fix circular import beween ``zope.security.decorator`` and\n  ``zope.security.proxy`` which led to an ``ImportError`` when only\n  importing ``zope.security.decorator``.\n\n\n3.8.0 (2010-12-14)\n==================\n\n- Add tests for our own ``configure.zcml``.\n\n- Add ``zcml`` extra dependencies;  run related tests only if\n  ``zope.configuration`` is available.\n\n- Run tests related to the ``untrustedpython`` functionality only if\n  ``RestrictedPython`` is available.\n\n\n3.7.3 (2010-04-30)\n==================\n\n- Prefer the standard library's ``doctest`` module to the one from\n  ``zope.testing``.\n\n- Ensure ``PermissionIdsVocabulary`` directly provides ``IVocabularyFactory``,\n  even though it might be unnecessary because ``IVocabularyFactory`` is\n  provided in ZCML.\n\n- Remove the dependency on the zope.exceptions package: zope.security.checker\n  now imports ``DuplicationError`` from zope.exceptions if available, otherwise\n  it defines a package-specific ``DuplicationError`` class which inherits from\n  Exception.\n\n\n3.7.2 (2009-11-10)\n==================\n\n- Add compatibility with Python 2.6 abstract base classes.\n\n\n3.7.1 (2009-08-13)\n==================\n\n- Fix for LP bug 181833 (from Gustavo Niemeyer). Before \"visiting\" a\n  sub-object, a check should be made to ensure the object is still valid.\n  Because garbage collection may involve loops, if you garbage collect an\n  object, it is possible that the actions done on this object may modify the\n  state of other objects. This may cause another round of garbage collection,\n  eventually generating a segfault (see LP bug). The Py_VISIT macro does the\n  necessary checks, so it is used instead of the previous code.\n\n\n3.7.0 (2009-05-13)\n==================\n\n- Make ``pytz`` a soft dependency:  the checker for ``pytz.UTC`` is\n  created / tested only if the package is already present.  Run\n  ``bin/test_pytz`` to run the tests with ``pytz`` on the path.\n\n\n3.6.3 (2009-03-23)\n==================\n\n- Ensure that simple zope.schema's ``VocabularyRegistry`` is used for\n  ``PermissionVocabulary`` tests, because it's replaced implicitly in\n  environments with ``zope.app.schema`` installed that makes that tests\n  fail.\n\n- Fix a bug in ``DecoratedSecurityCheckerDescriptor`` which made\n  security-wrapping location proxied exception instances throw\n  exceptions on Python 2.5.\n  See https://bugs.launchpad.net/zope3/+bug/251848\n\n\n3.6.2 (2009-03-14)\n==================\n\n- Add ``zope.i18nmessageid.Message`` to non-proxied basic types. It's okay,\n  because messages are immutable. Done previously by ``zope.app.security``.\n\n- Add ``__name__`` and ``__parent__`` attributes to list of available by\n  default.  Done previously by ``zope.app.security``.\n\n- Move ``PermissionsVocabulary`` and ``PermissionIdsVocabulary`` vocabularies\n  to the ``zope.security.permission`` module from the ``zope.app.security``\n  package.\n\n- Add zcml permission definitions for most common and useful permissions,\n  like ``zope.View`` and ``zope.ManageContent``, as well as for the special\n  ``zope.Public`` permission. They are placed in a separate\n  ``permissions.zcml`` file, so it can be easily excluded/redefined. They are\n  selected part of permissions moved from ``zope.app.security`` and used by\n  many ``zope.*`` packages.\n\n- Add ``addCheckerPublic`` helper function in ``zope.security.testing`` module\n  that registers the \"zope.Public\" permission as an IPermission utility.\n\n- Add security declarations for the ``zope.security.permisson.Permission``\n  class.\n\n- Improve test coverage.\n\n\n3.6.1 (2009-03-10)\n==================\n\n- Use ``from`` imports instead of ``zope.deferred`` to avoid circular\n  import problems, thus drop dependency on ``zope.deferredimport``.\n\n- Raise ``NoInteraction`` when ``zope.security.checkPermission`` is called\n  without interaction being active (LP #301565).\n\n- Don't define security checkers for deprecated set types from the\n  \"sets\" module on Python 2.6. It's discouraged to use them and\n  ``set`` and ``frozenset`` built-in types should be used instead.\n\n- Change package's mailng list address to zope-dev at zope.org as\n  zope3-dev at zope.org is now retired.\n\n- Remove old zpkg-related files.\n\n\n3.6.0 (2009-01-31)\n==================\n\n- Install decorated security checker support on ``LocationProxy`` from the\n  outside.\n\n- Add support to bootstrap on Jython.\n\n- Move the ``protectclass`` module from ``zope.app.security`` to this\n  package to reduce the number of dependencies on ``zope.app.security``.\n\n- Move the ``<module>`` directive implementation from ``zope.app.security``\n  to this package.\n\n- Move the ``<class>`` directive implementation from ``zope.app.component``\n  to this package.\n\n\n3.5.2 (2008-07-27)\n==================\n\n- Make C code compatible with Python 2.5 on 64bit architectures.\n\n\n3.5.1 (2008-06-04)\n==================\n\n- Add ``frozenset``, ``set``, ``reversed``, and ``sorted`` to the list of\n  safe builtins.\n\n\n3.5.0 (2008-03-05)\n==================\n\n- Changed title for ``zope.security.management.system_user`` to be more\n  presentable.\n\n\n3.4.3 - (2009/11/26)\n====================\n\n- Backport a fix made by Gary Poster to the 3.4 branch:\n  Fix for LP bug 181833 (from Gustavo Niemeyer). Before \"visiting\" a\n  sub-object, a check should be made to ensure the object is still valid.\n  Because garbage collection may involve loops, if you garbage collect an\n  object, it is possible that the actions done on this object may modify the\n  state of other objects. This may cause another round of garbage collection,\n  eventually generating a segfault (see LP bug). The ``Py_VISIT`` macro does\n  the necessary checks, so it is used instead of the previous code.\n\n\n3.4.2 - (2009/03/23)\n====================\n\n- Add dependency on ``zope.thread`` to setup.py; without it, the tests were\n  failing.\n\n- Backport a fix made by Albertas Agejevas to the 3.4 branch. He\n  fixed a bug in DecoratedSecurityCheckerDescriptor which made\n  security-wrapping location proxied exception instances throw\n  exceptions on Python 2.5.  See\n  https://bugs.launchpad.net/zope3/+bug/251848\n\n\n3.4.1 - 2008/07/27\n==================\n\n- Make C code compatible with Python 2.5 on 64bit architectures.\n\n\n3.4.0 (2007-10-02)\n==================\n\n- Update meta-data.\n\n\n3.4.0b5 (2007-08-15)\n====================\n\n- Fix a circular import in the C implementation.\n\n\n3.4.0b4 (2007-08-14)\n====================\n\n- Improve ugly/brittle ID of ``zope.security.management.system_user``.\n\n\n3.4.0b3 (2007-08-14)\n====================\n\n- Add support for Python 2.5.\n\n- Bug: ``zope.security.management.system_user`` wasn't a valid principal\n  (didn't provide IPrincipal).\n\n- Bug: Fix inclusion of doctest to use the doctest module from\n  ``zope.testing``. Now tests can be run multiple times without\n  breaking. (#98250)\n\n\n3.4.0b2 (2007-06-15)\n====================\n\n- Bug: Remove stack extraction in ``newInteraction``. When using eggs this is\n  an extremly expensive function. The publisher is now more than 10 times\n  faster when using eggs and about twice as fast with a zope trunk checkout.\n\n\n3.4.0b1\n=======\n\n- Temporarily fixed the hidden (and accidental) dependency on zope.testing to\n  become optional.\n\nNote: The releases between 3.2.0 and 3.4.0b1 where not tracked as an\nindividual package and have been documented in the Zope 3 changelog.\n\n\n3.2.0 (2006-01-05)\n==================\n\n- Corresponds to the verison of the ``zope.security`` package shipped as part\n  of the Zope 3.2.0 release.\n\n- Remove deprecated helper functions, ``proxy.trustedRemoveSecurityProxy``\n  and ``proxy.getProxiedObject``.\n\n- Make handling of ``management.{end,restore}Interaction`` more careful w.r.t.\n  edge cases.\n\n- Make behavior of ``canWrite`` consistent with ``canAccess``:\n  if ``canAccess`` does not raise ``ForbiddenAttribute``, then neither will\n  ``canWrite``.  See: http://www.zope.org/Collectors/Zope3-dev/506\n\n- Code style / documentation / test fixes.\n\n\n3.1.0 (2005-10-03)\n==================\n\n- Add support for use of the new Python 2.4 datatypes, ``set`` and\n  ``frozenset``, within checked code.\n\n- Make the C security proxy depend on the ``proxy.h`` header from the\n  ``zope.proxy`` package.\n\n- XXX: the spelling of the ``#include`` is bizarre!  It seems to be related to\n  ``zpkg``-based builds, and should likely be revisited.  For the moment, I have\n  linked in the ``zope.proxy`` package into our own ``include`` directory.  See\n  the subversion checkin: http://svn.zope.org/Zope3/?rev=37882&view=rev\n\n- Update checker to avoid re-proxying objects which have and explicit\n  ``__Security_checker__`` assigned.\n\n- Corresponds to the verison of the ``zope.security`` package shipped as part of\n  the Zope 3.1.0 release.\n\n- Clarify contract of ``IChecker`` to indicate that its ``check*`` methods may\n  raise only ``Forbidden`` or ``Unauthorized`` exceptions.\n\n- Add interfaces, (``IPrincipal``, ``IGroupAwarePrincipal``, ``IGroup``, and\n  ``IPermission``) specifying contracts of components in the security framework.\n\n- Code style / documentation / test fixes.\n\n\n3.0.0 (2004-11-07)\n==================\n\n- Corresponds to the version of the ``zope.security`` package shipped as part\n  of the Zope X3.0.0 release.\n\n\n",
  "requires_dist": [
    "setuptools",
    "zope.component",
    "zope.i18nmessageid",
    "zope.interface",
    "zope.location",
    "zope.proxy (>=4.3.0)",
    "zope.schema (>=4.2.0)",
    "Sphinx ; extra == 'docs'",
    "repoze.sphinx.autointerface ; extra == 'docs'",
    "pytz ; extra == 'pytz'",
    "BTrees ; extra == 'test'",
    "zope.component ; extra == 'test'",
    "zope.configuration ; extra == 'test'",
    "zope.location ; extra == 'test'",
    "zope.testing ; extra == 'test'",
    "zope.testrunner ; extra == 'test'",
    "zope.untrustedpython ; (python_version == \"2.7\") and extra == 'untrustedpython'",
    "zope.configuration ; extra == 'zcml'"
  ],
  "requires_python": ">=2.7,!=3.0.*,!=3.1.*,!=3.2.*,!=3.3.*,!=3.4.*",
  "current_version": "5.1.1",
  "released_versions": [
    "3.4.0",
    "3.4.0b5",
    "3.4.1",
    "3.4.2",
    "3.4.3",
    "3.5.0",
    "3.5.1",
    "3.5.2",
    "3.6.0",
    "3.6.1",
    "3.6.2",
    "3.6.3",
    "3.7.0",
    "3.7.1",
    "3.7.2",
    "3.7.3",
    "3.7.4",
    "3.8.0",
    "3.8.1",
    "3.8.2",
    "3.8.3",
    "3.8.4",
    "3.8.5",
    "3.9.0",
    "4.0.0",
    "4.0.0a1",
    "4.0.0a2",
    "4.0.0a3",
    "4.0.0a4",
    "4.0.0a5",
    "4.0.0b1",
    "4.0.1",
    "4.0.2",
    "4.0.3",
    "4.1.0",
    "4.1.1",
    "4.2.0",
    "4.2.1",
    "4.2.2",
    "4.2.3",
    "4.3.0",
    "4.3.1",
    "5.0",
    "5.1.0",
    "5.1.1"
  ]
}